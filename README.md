# Key_manager

## Описание проекта
Секретный Менеджер — это приложение для создания и извлечения секретов с использованием FastAPI и MongoDB. Оно позволяет создать секрет, задать кодовую фразу для его открытия и сгенерировать код по которому можно прочитать секрет, после чего он удалится. Так же секрет удалится по истечению заданного времени, если его не прочитали максимальное время хранения 3600 секунд.

## Установка и запуск проекта

- Склонируйте репозиторий с проектом: https://github.com/AleksandrZaec/Key_manager.git

- Создайте файл .env в корневой директории проекта и добавьте в него переменные окружения на основе файла .env_example: (если вы используете удаленный бакет, необходимо отключить функцию url в файле custom_storge, а так же отключить развертование MinIO в docker-compose файле)

- Запустите проект с использованием Docker Compose: docker-compose up --build

## Использование API

Генерация секрета
POST '/generate'

Запрос:

``` 
{
    "secret": "your_secret",
    "passphrase": "your_passphrase",
    "ttl": 3600
} 
```

Ответ:
```
{
    "secret_key": "unique_secret_key"
}
```

Извлечение секрета
POST '/secrets/unique_secret_key'

Запрос:
```
{
    "passphrase": "your_passphrase"
}
```

Ответ:
```
{
    "secret": "your_secret"
}
```

